DnD 即是 Drag and Drop，指的是用户用鼠标或是在触摸屏时将元素从容器的一处移动到另一处并释放的操作。虽然 html5 也提供例如 draggable 这样的标签属性，但是为了更好的兼容性，以及一些可拓展需求（例如列表排序、跨组件拖拽、动画反馈等），很多第三方工具便对这些拓展的逻辑支持了封装
在此对简单的 smooth-dnd 源码结构进行简单的分析
# 元素定义
当用户执行拖拽时，可操作的元素包含两种定义，分别是拖拽容器（container）和可拖拽体（draggable）。可拖拽体可以在容器内拖动。当拖到容器外时，释放的操作不会起作用。而在容器内时，会触发（emit）容器对事件已绑定的回调函数
# 事件绑定
当用户进行拖拽时，包含以下几个操作：
1. 长按开始拖拽（mousedown/touchstart）
2. 移动拖拽物体（mousemove/touchmove）
3. 松开释放拖拽（mouseup/touchend）
流程上就是让被操作的元素跟随鼠标的位置移动，但是为了特定的拓展需求，需要额外做几件事
# 在拖拽过程中使用幽灵（Ghost）元素
为了方便操作动画效果，在拖拽开始时，克隆原拖拽体，并将本体隐藏，由该元素执行动画效果
# 释放拖拽时，返回结果供操作
返回 removedIndex、addedIndex，以及结果体 payload，payload 的获取方式还支持初始化时自定义
- removedIndex 如果原拖拽体在拖动后消失了，比如调换了位置或是移除了，那它在原容器的索引就是这个值
- addedIndex 拖拽过程中，通过拖拽体的当前位置处于目标容器中的索引获取该值
  - 如何获取这个位置？获取目标容器的起始位置和结束位置，得到一个边界，再以输入的边界进行 二分查找，找到对应的子元素之后or之前的区域，并得到最接近当前位置的子元素的 index
- payload 默认是被拖拽的元素本身，如果要进行其他操作，可以由参数自定义返回的类型
# 释放拖拽时固定位置
容器以 list 结构存储数据，在结束时提供 removedIndex 和 addedIndex，检测这两个属性；  
如果有 removeIndex 就移除，如果有 addIndex 就添加  
其他具体实现可将 smooth-dnd 仓库克隆到本地自行阅读分析
